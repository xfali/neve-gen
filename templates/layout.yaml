name: neve-default-template
version: v0.0.1
spec:
  templates:
    - name: go.mod
      template: gomod.tmpl
      type: app
      code: go.mod
      target: go.mod
    - name: main
      template: application.tmpl
      type: app
      code: go
      target: cmd/main.go
    - name: appconfig
      template: appconfig.tmpl
      type: app
      code: yaml
      target: assets/config.yaml
    - name: gobatis code
      template: gobatis
    #  type: gobatis_code
      code:
      target: internal/pkg/${MODULE}/
    - name: gobatis mapper
      template: gobatis
    #  type: gobatis_mapper
      code:
      target: assets/mapper/
    - name: model
      template: model.tmpl
      type: module
      code: go
      target: pkg/apis/${MODULE}/${MODULE}_model.go
      condition: "notFromDB ${MODULE}"
    - name: handler
      template: handler.tmpl
      type: module
      code: go
      target: internal/pkg/${MODULE}/${MODULE}_handler.go
    - name: appinfo handler
      template: appinfo_handler.tmpl
      type: app
      code: go
      target: internal/pkg/appinfo/default_appinfo_handler.go
    - name: service
      template: service.tmpl
      type: module
      code: go
      target: pkg/apis/${MODULE}/${MODULE}_service.go
    - name: serviceImpl
      template: service_impl.tmpl
      type: module
      code: go
      target: internal/pkg/${MODULE}/${MODULE}_service_impl.go
      condition: "notFromDB ${MODULE}"
    - name: serviceGobatisImpl
      template: service_gobatis_impl.tmpl
    #  type: module
      code: go
      target: internal/pkg/${MODULE}/${MODULE}_service_impl.go
      condition: "loadFromDB ${MODULE}"
    - name: serviceGobatisImpl
      template: restclient.tmpl
    #  type: module
      code: go
      target: pkg/restclients/${MODULE}/restclient.go
      condition: ".Config.RestClient.Enable"
    - name: swagger
      template: swagger.tmpl
    #  type: app
      code: go
      target: pkg/swagger/swagger_handler.go
      condition: ".Config.Swagger.Enable"
    # Must be the last stage.
    - name: swagger_docs
      template:
     # type: swagger
      code:
      # Path defined in config file by swagger.docPath.
      target:
      condition: ".Config.Swagger.Enable"

